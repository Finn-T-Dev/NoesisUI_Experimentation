<Page
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:system="clr-namespace:System;assembly=mscorlib"
  d:DataContext="Current Members"
  d:DesignHeight="1080"
  d:DesignWidth="1920"
  mc:Ignorable="d">

  <Page.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="MenuStyles.xaml" />
      </ResourceDictionary.MergedDictionaries>
      
      <DataTemplate x:Key="GymMemberObjectTemplate">
        <StackPanel Margin="5" Orientation="Horizontal">
          <Image
            Width="50"
            Height="50"
            Margin="0,0,10,0"
            Source="{Binding Path=Image}"
            ToolTipService.InitialShowDelay="0"
            ToolTipService.ShowDuration="8000">
            <Image.ToolTip>
              <ToolTip Placement="Right">
                <ToolTip.Template>
                  <ControlTemplate TargetType="{x:Type ToolTip}">
                    <ContentPresenter />
                  </ControlTemplate>
                </ToolTip.Template>
                <Border
                  Padding="10"
                  Background="#FF1E3E80"
                  BorderBrush="#20FFFFFF"
                  BorderThickness="1"
                  CornerRadius="8">
                  <StackPanel Width="200">
                    <TextBlock
                      Margin="0,0,0,10"
                      FontSize="18"
                      FontWeight="Bold"
                      Foreground="White"
                      Text="{Binding Path=Name}"
                      TextAlignment="Center" />
                    <TextBlock
                      Margin="0,0,0,10"
                      FontSize="18"
                      FontWeight="Bold"
                      Foreground="White"
                      Text="{Binding Path=Age}" />
                    <TextBlock
                      FontSize="12"
                      Foreground="White"
                      Text="{Binding Path=Details}"
                      TextWrapping="Wrap" />
                  </StackPanel>
                </Border>
              </ToolTip>
            </Image.ToolTip>
          </Image>
          <StackPanel VerticalAlignment="Center">
            <TextBlock
              FontSize="16"
              FontWeight="Bold"
              Foreground="White"
              Text="{Binding Path=Name}" />
            <TextBlock
              FontSize="12"
              Foreground="LightGray"
              Text="{Binding Path=Details}" />
          </StackPanel>
        </StackPanel>
      </DataTemplate>
      <Style x:Key="Style.ItemContainer" TargetType="ListBoxItem">
        <Setter Property="Template" Value="{DynamicResource GymMemberContainerTemplate}" />
      </Style>
    </ResourceDictionary>
  </Page.Resources>

  <Grid x:Name="Master">
    <Grid x:Name="Background">
      <Grid.Background>
        <ImageBrush ImageSource="Assets/scifi_main_menu.jpg" Stretch="UniformToFill" />
      </Grid.Background>
    </Grid>

    <Grid x:Name="Interface">
      <Grid.RowDefinitions>
        <RowDefinition Height="64" />
        <RowDefinition Height="1*" />
        <RowDefinition Height="64" />
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="64" />
        <ColumnDefinition Width="2*" />
        <ColumnDefinition Width="3*" />
        <ColumnDefinition Width="2*" />
        <ColumnDefinition Width="64" />
      </Grid.ColumnDefinitions>
      <Viewbox
        Grid.Row="1"
        Grid.Column="2"
        Grid.ColumnSpan="2"
        HorizontalAlignment="Left"
        VerticalAlignment="Bottom">
        <ListBox
          Width="590"
          Height="590"
          ItemContainerStyle="{DynamicResource Style.ItemContainer}"
          ItemTemplate="{DynamicResource GymMemberObjectTemplate}"
          ItemsPanel="{DynamicResource GymMembersListPanel}"
          ItemsSource="{Binding Path=GymMemberObjects}"
          Template="{DynamicResource GymMembersListTemplate}" />
      </Viewbox>
      <Grid
        x:Name="BackButton"
        Grid.Row="1"
        Grid.Column="1"
        HorizontalAlignment="Center"
        VerticalAlignment="Center">
        <Button
          Command="{Binding BackToMainMenuCommand}"
          Content="Back To Main Menu"
          Template="{DynamicResource SciFiButtonTemplate}" />
      </Grid>
    </Grid>
    <Grid x:Name="Foreground" />

  </Grid>
</Page>
